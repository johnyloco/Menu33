{% include 'common/nav.html' %}
{% load static %}
<div class="menu-container">
    <link rel="stylesheet" href="{% static 'css/menu/menu_food.css' %}">
    
    <!-- Drink Menu Button -->
    <div class="drink-menu-button-container">
        <a href="{% url 'drink-menu' restaurant.id %}" class="btn-drink-menu">View Drinks Menu</a>
        <a href="{% url 'wine-menu' restaurant.id %}" class="btn-wine-menu">View Wine Menu</a>
    </div>
    <div class="menu-section">
        <h2 class="section-title">Starters</h2>
        {% if starters %}
            <ul class="menu-items">
                {% for item in starters %}
                    <li class="menu-item">
                        <div class="menu-item-left">
                            <h3>
                                <a href="{% url 'food-details' restaurant.id item.slug %}"
                                   class="menu-item-link">
                                    {{ item.name }}
                                </a>
                            </h3>
                            <p>{{ item.description }}</p>

                            <!-- Dietary Info -->
                            {% if item.gluten_free %}
                                <p class="item-info"><strong>Gluten Free</strong></p>
                            {% endif %}
                            {% if item.dairy_free %}
                                <p class="item-info"><strong>Dairy Free</strong></p>
                            {% endif %}
                            {% if item.vegan %}
                                <p class="item-info"><strong>Vegan</strong></p>
                            {% endif %}
                        </div>
                        <div class="menu-item-right">
                            <p>${{ item.price }}</p>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-items">No starters available.</p>
        {% endif %}
    </div>

    <!-- Main Courses Section -->
    <div class="menu-section">
        <h2 class="section-title">Main Courses</h2>
        {% if main_courses %}
            <ul class="menu-items">
                {% for item in main_courses %}
                    <li class="menu-item">
                        <div class="menu-item-left">
                            <h3>
                                <a href="{% url 'food-details' restaurant.id item.slug %}"
                                   class="menu-item-link">
                                    {{ item.name }}
                                </a>
                            </h3>
                            <p>{{ item.description }}</p>

                            <!-- Dietary Info -->
                            {% if item.gluten_free %}
                                <p class="item-info"><strong>Gluten Free</strong></p>
                            {% endif %}
                            {% if item.dairy_free %}
                                <p class="item-info"><strong>Dairy Free</strong></p>
                            {% endif %}
                            {% if item.vegan %}
                                <p class="item-info"><strong>Vegan</strong></p>
                            {% endif %}
                        </div>
                        <div class="menu-item-right">
                            <p>${{ item.price }}</p>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-items">No main courses available.</p>
        {% endif %}
    </div>

    <!-- Desserts Section -->
    <div class="menu-section">
        <h2 class="section-title">Desserts</h2>
        {% if desserts %}
            <ul class="menu-items">
                {% for item in desserts %}
                    <li class="menu-item">
                        <div class="menu-item-left">
                            <h3>
                                <a href="{% url 'food-details' restaurant.id item.slug %}"
                                   class="menu-item-link">
                                    {{ item.name }}
                                </a>
                            </h3>
                            <p>{{ item.description }}</p>

                            <!-- Dietary Info -->
                            {% if item.gluten_free %}
                                <p class="item-info"><strong>Gluten Free</strong></p>
                            {% endif %}
                            {% if item.dairy_free %}
                                <p class="item-info"><strong>Dairy Free</strong></p>
                            {% endif %}
                            {% if item.vegan %}
                                <p class="item-info"><strong>Vegan</strong></p>
                            {% endif %}
                        </div>
                        <div class="menu-item-right">
                            <p>${{ item.price }}</p>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-items">No desserts available.</p>
        {% endif %}
    </div>

    <a href="{% url 'restaurant-detail' restaurant.id %}" class="back-button">Back to Restaurant</a>
    {% if user.is_authenticated and restaurant.user == user %}
        <a href="{% url 'food-add' restaurant_id=restaurant.id %}" class="btn btn-primary">Add Food Item</a>
    {% endif %}
</div>
